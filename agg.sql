INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)
SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),
   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),
   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),
   SUM(cur_val)
   FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588060 AND 24588062
   GROUP BY ts_min, metric_id, application_component_instance_id
   ORDER BY ts_min, metric_id, application_component_instance_id;


INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588060 AND 24588062 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588060 AND 24588062 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588060 AND 24588062  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588060 AND 24588062  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588060 AND 24588062  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588062 AND 24588063 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588062 AND 24588063 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588062 AND 24588063  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588062 AND 24588063  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588064 AND 24588064 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588064 AND 24588064  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588065 AND 24588065 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588065 AND 24588065  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588066 AND 24588066 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588066 AND 24588066  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588067 AND 24588067 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588067 AND 24588067  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588068 AND 24588068 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588068 AND 24588068  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588069 AND 24588069 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588069 AND 24588069  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588070 AND 24588070 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588070 AND 24588070  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588071 AND 24588071 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588071 AND 24588071  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588072 AND 24588072 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588072 AND 24588072  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588073 AND 24588073 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588073 AND 24588073  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588074 AND 24588074 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588074 AND 24588074  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588075 AND 24588075 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588075 AND 24588075  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588076 AND 24588076 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588076 AND 24588076  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588077 AND 24588077 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588077 AND 24588077  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588078 AND 24588078 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588078 AND 24588078  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588079 AND 24588079 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588079 AND 24588079  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588080 AND 24588080 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588080 AND 24588080  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588081 AND 24588081 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588081 AND 24588081  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588082 AND 24588082 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588082 AND 24588082  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588083 AND 24588083 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588083 AND 24588083  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588084 AND 24588084 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588084 AND 24588084  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588085 AND 24588085 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588085 AND 24588085  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588086 AND 24588086 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588086 AND 24588086  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588087 AND 24588087 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588087 AND 24588087  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588088 AND 24588088 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588088 AND 24588088  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588089 AND 24588089 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 1 AND ts_min BETWEEN 24588089 AND 24588089  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588090 AND 24588090 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 2 AND ts_min BETWEEN 24588090 AND 24588090  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588091 AND 24588091 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 3 AND ts_min BETWEEN 24588091 AND 24588091  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;
INSERT IGNORE INTO metricdata_min_agg (ts_min, metric_id, application_component_instance_id, application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT  ts_min, metric_id,  application_component_instance_id, MAX(application_id), COUNT(*) * 100, SUM(sum_val),   SUM(count_val),   (CASE rollup_type WHEN 0 THEN MIN(min_val) WHEN 1 THEN MIN(sum_val) WHEN 2 THEN MIN(cur_val) ELSE 0 END),   (CASE rollup_type WHEN 0 THEN MAX(max_val) WHEN 1 THEN MAX(sum_val) WHEN 2 THEN MAX(cur_val) ELSE 0 END),   SUM(cur_val) FROM metricdata_min MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588092 AND 24588092 GROUP BY ts_min, metric_id, application_component_instance_id ORDER BY ts_min, metric_id, application_component_instance_id;
INSERT IGNORE INTO metricdata_min_agg_app (ts_min, metric_id,  application_id,   group_count_val, sum_val, count_val, min_val, max_val, cur_val)  SELECT ts_min, metric_id, MAX(application_id), SUM(group_count_val), SUM(sum_val),   SUM(count_val),   MIN(min_val),   MAX(max_val),   SUM(cur_val) FROM metricdata_min_agg MD USE INDEX (PRIMARY) WHERE (ts_min % 4) = 0 AND ts_min BETWEEN 24588092 AND 24588092  GROUP BY ts_min, metric_id, application_id ORDER BY ts_min, metric_id, application_id;

